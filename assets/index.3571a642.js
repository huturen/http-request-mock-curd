var Q=Object.defineProperty,W=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var G=Object.getOwnPropertySymbols;var Z=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable;var T=(s,r,c)=>r in s?Q(s,r,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[r]=c,I=(s,r)=>{for(var c in r||(r={}))Z.call(r,c)&&T(s,c,r[c]);if(G)for(var c of G(r))ee.call(r,c)&&T(s,c,r[c]);return s},K=(s,r)=>W(s,X(r));import{a as b,d as E,r as R,ap as l,o as y,av as O,ar as t,aq as e,u as i,e as N,aA as Y,au as m,aB as S,aC as F,aw as x,k as w,aD as te,as as ae,at as oe}from"./arco.726edac9.js";import{a as P,_ as z}from"./index.f9ca4dcd.js";import"./vue.03cf03ec.js";function ne(s=!1){const r=b(s);return{loading:r,setLoading:a=>{r.value=a},toggle:()=>{r.value=!r.value}}}function le(s=1){const r={page:s};return P.get("https://some.api.com/api/get-user-list",{params:r})}function se(s){return P.post("https://some.api.com/api/update-user",s)}function re(s){return P.post("https://some.api.com/api/create-user",s)}function ie(s){return P.post("https://some.api.com/api/delete-user",{id:s})}const de=m(" Male"),ue=m(" Female"),ce=E({emits:["success"],setup(s,{expose:r,emit:c}){const p=b(!1),a=R({id:"",name:"",gender:"",age:"",email:"",phone:""}),v=b();function U(_){a.id=String(_.id),a.name=_.name,a.gender=_.gender,a.age=String(_.age),a.email=_.email,a.phone=_.phone,p.value=!0}let f=!1;const q=_=>{v.value.validate(async n=>{if(n)return _(!1);f=!0;const d=await se(a);return f=!1,d.code===0?(x.success("Update successfully"),c("success")):x.error(d.msg),_(!0)})},$=()=>!f;return r({show:U}),(_,n)=>{const d=l("a-input"),u=l("a-form-item"),h=l("icon-man"),k=l("a-radio"),g=l("icon-woman"),C=l("a-radio-group"),B=l("a-option"),A=l("a-select"),D=l("a-form"),L=l("a-modal");return y(),O(L,{visible:p.value,"onUpdate:visible":n[6]||(n[6]=o=>p.value=o),"title-align":"start",title:"Edit User",mask:!0,"unmount-on-close":!0,"mask-closable":!1,"ok-loading":!1,"esc-to-close":!1,"cancel-text":"Cancel","ok-text":"OK",onBeforeCancel:$,onBeforeOk:q},{default:t(()=>[e(D,{ref_key:"refForm",ref:v,model:i(a)},{default:t(()=>[e(u,{field:"id",label:"ID:",disabled:""},{default:t(()=>[e(d,{modelValue:i(a).id,"onUpdate:modelValue":n[0]||(n[0]=o=>i(a).id=o)},null,8,["modelValue"])]),_:1}),e(u,{field:"name",label:"Name:",rules:[{required:!0,message:"Name is required"},{minLength:3,message:"Must be greater than 3 characters"},{maxLength:30,message:"Must be less than 30 characters"}],"validate-trigger":["change","input"]},{default:t(()=>[e(d,{modelValue:i(a).name,"onUpdate:modelValue":n[1]||(n[1]=o=>i(a).name=o),placeholder:"please enter name"},null,8,["modelValue"])]),_:1}),e(u,{field:"gender",label:"Gender:",rules:[{required:!0,message:"Gender is required"}]},{default:t(()=>[e(C,{modelValue:i(a).gender,"onUpdate:modelValue":n[2]||(n[2]=o=>i(a).gender=o),type:"button"},{default:t(()=>[e(k,{value:"male"},{default:t(()=>[e(h,{style:{color:"green"}}),de]),_:1}),e(k,{value:"female"},{default:t(()=>[e(g,{style:{color:"red"}}),ue]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(u,{field:"age",label:"Age:",rules:[{required:!0,message:"Age is required"}]},{default:t(()=>[e(A,{modelValue:i(a).age,"onUpdate:modelValue":n[3]||(n[3]=o=>i(a).age=o)},{default:t(()=>[(y(),N(F,null,Y(13,o=>e(B,{key:o,value:17+o},{default:t(()=>[m(S(17+o),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1}),e(u,{field:"email",label:"Email:",rules:[{required:!0,message:"Please input a valid Email"},{type:"email",message:"Please input a valid Email"}],"validate-trigger":["change","input"]},{default:t(()=>[e(d,{modelValue:i(a).email,"onUpdate:modelValue":n[4]||(n[4]=o=>i(a).email=o),placeholder:"please enter email"},null,8,["modelValue"])]),_:1}),e(u,{field:"phone",label:"Phone No.:",rules:[{required:!0,message:"Please input a valid phone number, such as: 123-456-8892"},{match:/^\d{3}-\d{3}-\d{4}$/,message:"Please input a valid phone number, such as: 123-456-8892"}],"validate-trigger":["change","input"]},{default:t(()=>[e(d,{modelValue:i(a).phone,"onUpdate:modelValue":n[5]||(n[5]=o=>i(a).phone=o),placeholder:"please enter phone number, such as: 123-456-8892"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"])}}}),me=m(" Male"),_e=m(" Female"),pe=E({emits:["success"],setup(s,{expose:r,emit:c}){const p=b(!1),a=R({name:"",gender:"",age:"",email:"",phone:""}),v=b();function U(){a.name="",a.gender="",a.age="",a.email="",a.phone="",p.value=!0}let f=!1;const q=_=>{!v.value||v.value.validate(async n=>{if(n)return _(!1);f=!0;const d=await re(a);return f=!1,d.code===0?(x.success("Add successfully"),c("success")):x.error(d.msg),_(!0)})},$=()=>!f;return r({show:U}),(_,n)=>{const d=l("a-input"),u=l("a-form-item"),h=l("icon-man"),k=l("a-radio"),g=l("icon-woman"),C=l("a-radio-group"),B=l("a-option"),A=l("a-select"),D=l("a-form"),L=l("a-modal");return y(),O(L,{visible:p.value,"onUpdate:visible":n[5]||(n[5]=o=>p.value=o),"title-align":"start",title:"Add User",mask:!0,"unmount-on-close":!0,"mask-closable":!1,"ok-loading":!1,"esc-to-close":!1,"cancel-text":"Cancel","ok-text":"OK",onBeforeCancel:$,onBeforeOk:q},{default:t(()=>[e(D,{ref_key:"refForm",ref:v,model:i(a)},{default:t(()=>[e(u,{field:"name",label:"Name:",rules:[{required:!0,message:"Name is required"},{minLength:3,message:"Must be greater than 3 characters"},{maxLength:30,message:"Must be less than 30 characters"}],"validate-trigger":["change","input"]},{default:t(()=>[e(d,{modelValue:i(a).name,"onUpdate:modelValue":n[0]||(n[0]=o=>i(a).name=o),placeholder:"please enter name"},null,8,["modelValue"])]),_:1}),e(u,{field:"gender",label:"Gender:",rules:[{required:!0,message:"Gender is required"}]},{default:t(()=>[e(C,{modelValue:i(a).gender,"onUpdate:modelValue":n[1]||(n[1]=o=>i(a).gender=o),type:"button"},{default:t(()=>[e(k,{value:"male"},{default:t(()=>[e(h,{style:{color:"green"}}),me]),_:1}),e(k,{value:"female"},{default:t(()=>[e(g,{style:{color:"red"}}),_e]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(u,{field:"age",label:"Age:",rules:[{required:!0,message:"Age is required"}]},{default:t(()=>[e(A,{modelValue:i(a).age,"onUpdate:modelValue":n[2]||(n[2]=o=>i(a).age=o)},{default:t(()=>[(y(),N(F,null,Y(13,o=>e(B,{key:o,value:17+o},{default:t(()=>[m(S(17+o),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1}),e(u,{field:"email",label:"Email:",rules:[{required:!0,message:"Please input a valid Email"},{type:"email",message:"Please input a valid Email"}],"validate-trigger":["change","input"]},{default:t(()=>[e(d,{modelValue:i(a).email,"onUpdate:modelValue":n[3]||(n[3]=o=>i(a).email=o),placeholder:"please enter email"},null,8,["modelValue"])]),_:1}),e(u,{field:"phone",label:"Phone No.:",rules:[{required:!0,message:"Please input a valid phone number, such as: 123-456-8892"},{match:/^\d{3}-\d{3}-\d{4}$/,message:"Please input a valid phone number, such as: 123-456-8892"}],"validate-trigger":["change","input"]},{default:t(()=>[e(d,{modelValue:i(a).phone,"onUpdate:modelValue":n[4]||(n[4]=o=>i(a).phone=o),placeholder:"please enter phone number, such as: 123-456-8892"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"])}}}),fe={},ge=m(" \u9488\u5BF9\u4EE5\u4E0B\u7528\u6237\u5217\u8868\u7684CURD\u64CD\u4F5C\uFF0C\u5B9E\u9645\u5E76\u4E0D\u4F1A\u4EA7\u751F\u771F\u5B9E\u7684\u670D\u52A1\u5668\u8BF7\u6C42\u3002\u6240\u6709\u7684\u53D8\u66F4\u90FD\u662F\u57FA\u4E8Ehttp-request-mock\u5B9E\u73B0\u3002"),he=w("br",null,null,-1),ve=m(" http-request-mock\u652F\u6301"),be=m("\u6570\u636E\u53D8\u66F4\u8BB0\u5FC6"),ye=m("\uFF0C \u4F60\u53EF\u4EE5\u7528\u6B64\u7279\u6027\uFF0C \u5373\u4F7F\u5728\u6CA1\u6709\u540E\u53F0\u63A5\u53E3\u7684\u60C5\u51B5\u4E0B\uFF0C\u6765\u5B9E\u73B0\u4EA7\u54C1\u7814\u53D1\u7684\u95ED\u73AF\u3002 \uFF08F12\u67E5\u770B\u8C03\u8BD5\u5DE5\u5177\u4E2D\u7684\u65E5\u5FD7\u3002\uFF09 "),ke=w("br",null,null,-1),xe=w("br",null,null,-1),Ve=m(" For CRUD operations of the user list below, no server requests will be generated. All change operations are implemented based on http-request-mock. "),Ue=w("br",null,null,-1),we=m(" http-request-mock supports "),qe=m("data-change-cache"),$e=m(". You can use it to achieve a closed loop of product development. (Hit F12 to access Developer Tools and view the console logs.) ");function Ce(s,r){const c=l("a-typography-text"),p=l("a-card");return y(),O(p,{class:"gray"},{default:t(()=>[ge,he,ve,e(c,{mark:""},{default:t(()=>[be]),_:1}),ye,ke,xe,Ve,Ue,we,e(c,{mark:""},{default:t(()=>[qe]),_:1}),$e]),_:1})}var Be=z(fe,[["render",Ce]]);const H=s=>(ae("data-v-7869dcd2"),s=s(),oe(),s),Ae=H(()=>w("span",null,"User List",-1)),De=m("Reset Users"),Le=H(()=>w("span",null,"Operation",-1)),Oe=m("\xA0 "),Ee=m("Add User "),Ne=m("Edit "),Pe=m(" \xA0 "),Se=m("Delete "),Fe=E({setup(s){const{loading:r,setLoading:c}=ne(),p=b(),a=b({total:0,current:1,pageSize:10}),v=b(),U=b();async function f(d=1){c(!0);const u=await le(d);u.code===0?(a.value.current=d,a.value.total=u.data.total,p.value=u.data.list):x.error(u.msg),c(!1)}f(1);function q(d){localStorage.removeItem("mock-users"),x.success("You has successfully reset user list."),window.location.reload(),d(!0)}function $(){U.value.show()}function _(d){v.value.show(d)}async function n(d,u){const h=await ie(u.id);h.code===0?(x.success("Delete successfully"),f(1)):x.error(h.msg),d(!0)}return(d,u)=>{const h=l("a-button"),k=l("a-popconfirm"),g=l("a-table-column"),C=l("icon-woman"),B=l("icon-man"),A=l("icon-plus"),D=l("icon-edit"),L=l("icon-delete"),o=l("a-table"),j=l("a-card"),J=l("a-spin");return y(),N(F,null,[e(J,{loading:i(r),style:{width:"100%"}},{default:t(()=>[e(j,{class:"general-card","header-style":{paddingBottom:"0"}},{title:t(()=>[Ae]),extra:t(()=>[e(k,{content:"Are you sure to reset all users?","cancel-text":"Cancel","ok-text":"OK",onBeforeOk:q},{default:t(()=>[e(h,{type:"primary",size:"small",class:"reset"},{default:t(()=>[De]),_:1})]),_:1})]),default:t(()=>[e(Be),e(o,{data:p.value,pagination:a.value,"page-position":"bc",onPageChange:f},{"pagination-left":t(()=>[m(" Total: "+S(a.value.total),1)]),columns:t(()=>[e(g,{title:"ID","data-index":"id"}),e(g,{title:"Name","data-index":"name"}),e(g,{title:"Gender","data-index":"gender"},{cell:t(({record:V})=>[V.gender==="female"?(y(),O(C,{key:0,style:{fontSize:"24px",color:"red"}})):V.gender==="male"?(y(),O(B,{key:1,style:{fontSize:"24px",color:"green"}})):te("",!0)]),_:1}),e(g,{title:"Age","data-index":"age",sortable:{sortDirections:["ascend","descend"]}}),e(g,{title:"Email","data-index":"email"}),e(g,{title:"Phone No.","data-index":"phone"}),e(g,{title:"Created Time","data-index":"createdTime"}),e(g,{title:"Operation"},{title:t(()=>[Le,Oe,e(h,{size:"small",type:"outline",onClick:$},{icon:t(()=>[e(A)]),default:t(()=>[Ee]),_:1})]),cell:t(({record:V})=>[e(h,{size:"small",onClick:M=>_(V)},{icon:t(()=>[e(D)]),default:t(()=>[Ne]),_:2},1032,["onClick"]),Pe,e(k,{content:"Are you sure to delete it?","cancel-text":"Cancel","ok-text":"OK",onBeforeOk:M=>n(M,V)},{default:t(()=>[e(h,{size:"small"},{icon:t(()=>[e(L)]),default:t(()=>[Se]),_:1})]),_:2},1032,["onBeforeOk"])]),_:1})]),_:1},8,["data","pagination"])]),_:1})]),_:1},8,["loading"]),e(ce,{ref_key:"refDialogEdit",ref:v,onSuccess:u[0]||(u[0]=V=>f(1))},null,512),e(pe,{ref_key:"refDialogAdd",ref:U,onSuccess:u[1]||(u[1]=V=>f(1))},null,512)],64)}}});var ze=z(Fe,[["__scopeId","data-v-7869dcd2"]]);const Me={class:"container"},Ge={name:"Dashboard"},Te=E(K(I({},Ge),{setup(s){return(r,c)=>(y(),N("div",Me,[e(ze)]))}}));var He=z(Te,[["__scopeId","data-v-66195479"]]);export{He as default};
